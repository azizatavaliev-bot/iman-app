import{c as fe,u as pe,s as k,w as ee,k as ye,l as ge,j as e,v as C,d as D,V as ae,L as se,e as je,S as Ne,X as te,P as ve,M as we,a as re}from"./index-NuxdLuKF.js";import{b as n}from"./vendor-CpRrxz-h.js";import{g as Se}from"./quran-transliteration-Bt2Wc7vP.js";import{A as le}from"./arrow-left-BUlvncKk.js";import{E as O,T as ke}from"./trending-up-CE6N8VMr.js";import{R as Ce}from"./refresh-cw-Cqdyru21.js";import{R as Ae}from"./rotate-ccw-KVN5UBe3.js";import{C as Re}from"./circle-check-DNiI9S82.js";import{P as $e}from"./plus-CplIAnb5.js";import{S as Ee}from"./search-COOZLG5y.js";const Pe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_=fe("eye-off",Pe),h={1:{ru:"Открывающая",ar:"الفاتحة",ayahs:7},2:{ru:"Корова",ar:"البقرة",ayahs:286},3:{ru:"Семейство Имрана",ar:"آل عمران",ayahs:200},4:{ru:"Женщины",ar:"النساء",ayahs:176},5:{ru:"Трапеза",ar:"المائدة",ayahs:120},6:{ru:"Скот",ar:"الأنعام",ayahs:165},7:{ru:"Преграды",ar:"الأعراف",ayahs:206},8:{ru:"Трофеи",ar:"الأنفال",ayahs:75},9:{ru:"Покаяние",ar:"التوبة",ayahs:129},10:{ru:"Юнус",ar:"يونس",ayahs:109},11:{ru:"Худ",ar:"هود",ayahs:123},12:{ru:"Юсуф",ar:"يوسف",ayahs:111},13:{ru:"Гром",ar:"الرعد",ayahs:43},14:{ru:"Ибрахим",ar:"إبراهيم",ayahs:52},15:{ru:"Аль-Хиджр",ar:"الحجر",ayahs:99},16:{ru:"Пчёлы",ar:"النحل",ayahs:128},17:{ru:"Ночной перенос",ar:"الإسراء",ayahs:111},18:{ru:"Пещера",ar:"الكهف",ayahs:110},19:{ru:"Марьям",ar:"مريم",ayahs:98},20:{ru:"Та Ха",ar:"طه",ayahs:135},21:{ru:"Пророки",ar:"الأنبياء",ayahs:112},22:{ru:"Хадж",ar:"الحج",ayahs:78},23:{ru:"Верующие",ar:"المؤمنون",ayahs:118},24:{ru:"Свет",ar:"النور",ayahs:64},25:{ru:"Различение",ar:"الفرقان",ayahs:77},26:{ru:"Поэты",ar:"الشعراء",ayahs:227},27:{ru:"Муравьи",ar:"النمل",ayahs:93},28:{ru:"Рассказ",ar:"القصص",ayahs:88},29:{ru:"Паук",ar:"العنكبوت",ayahs:69},30:{ru:"Римляне",ar:"الروم",ayahs:60},31:{ru:"Лукман",ar:"لقمان",ayahs:34},32:{ru:"Поклон",ar:"السجدة",ayahs:30},33:{ru:"Союзники",ar:"الأحزاب",ayahs:73},34:{ru:"Саба",ar:"سبأ",ayahs:54},35:{ru:"Творец",ar:"فاطر",ayahs:45},36:{ru:"Йа Син",ar:"يس",ayahs:83},37:{ru:"Стоящие в ряд",ar:"الصافات",ayahs:182},38:{ru:"Сад",ar:"ص",ayahs:88},39:{ru:"Толпы",ar:"الزمر",ayahs:75},40:{ru:"Прощающий",ar:"غافر",ayahs:85},41:{ru:"Разъяснены",ar:"فصلت",ayahs:54},42:{ru:"Совет",ar:"الشورى",ayahs:53},43:{ru:"Украшения",ar:"الزخرف",ayahs:89},44:{ru:"Дым",ar:"الدخان",ayahs:59},45:{ru:"Коленопреклонённая",ar:"الجاثية",ayahs:37},46:{ru:"Барханы",ar:"الأحقاف",ayahs:35},47:{ru:"Мухаммад",ar:"محمد",ayahs:38},48:{ru:"Победа",ar:"الفتح",ayahs:29},49:{ru:"Комнаты",ar:"الحجرات",ayahs:18},50:{ru:"Каф",ar:"ق",ayahs:45},51:{ru:"Рассеивающие",ar:"الذاريات",ayahs:60},52:{ru:"Гора",ar:"الطور",ayahs:49},53:{ru:"Звезда",ar:"النجم",ayahs:62},54:{ru:"Месяц",ar:"القمر",ayahs:55},55:{ru:"Милостивый",ar:"الرحمن",ayahs:78},56:{ru:"Событие",ar:"الواقعة",ayahs:96},57:{ru:"Железо",ar:"الحديد",ayahs:29},58:{ru:"Препирающаяся",ar:"المجادلة",ayahs:22},59:{ru:"Сбор",ar:"الحشر",ayahs:24},60:{ru:"Испытуемая",ar:"الممتحنة",ayahs:13},61:{ru:"Ряд",ar:"الصف",ayahs:14},62:{ru:"Пятница",ar:"الجمعة",ayahs:11},63:{ru:"Лицемеры",ar:"المنافقون",ayahs:11},64:{ru:"Взаимное обделение",ar:"التغابن",ayahs:18},65:{ru:"Развод",ar:"الطلاق",ayahs:12},66:{ru:"Запрещение",ar:"التحريم",ayahs:12},67:{ru:"Власть",ar:"الملك",ayahs:30},68:{ru:"Письменная трость",ar:"القلم",ayahs:52},69:{ru:"Неизбежное",ar:"الحاقة",ayahs:52},70:{ru:"Ступени",ar:"المعارج",ayahs:44},71:{ru:"Нух",ar:"نوح",ayahs:28},72:{ru:"Джинны",ar:"الجن",ayahs:28},73:{ru:"Закутавшийся",ar:"المزمل",ayahs:20},74:{ru:"Завернувшийся",ar:"المدثر",ayahs:56},75:{ru:"Воскресение",ar:"القيامة",ayahs:40},76:{ru:"Человек",ar:"الإنسان",ayahs:31},77:{ru:"Посылаемые",ar:"المرسلات",ayahs:50},78:{ru:"Весть",ar:"النبأ",ayahs:40},79:{ru:"Вырывающие",ar:"النازعات",ayahs:46},80:{ru:"Нахмурился",ar:"عبس",ayahs:42},81:{ru:"Скручивание",ar:"التكوير",ayahs:29},82:{ru:"Раскалывание",ar:"الإنفطار",ayahs:19},83:{ru:"Обвешивающие",ar:"المطففين",ayahs:36},84:{ru:"Разверзнётся",ar:"الإنشقاق",ayahs:25},85:{ru:"Созвездия",ar:"البروج",ayahs:22},86:{ru:"Ночной путник",ar:"الطارق",ayahs:17},87:{ru:"Высочайший",ar:"الأعلى",ayahs:19},88:{ru:"Покрывающее",ar:"الغاشية",ayahs:26},89:{ru:"Заря",ar:"الفجر",ayahs:30},90:{ru:"Город",ar:"البلد",ayahs:20},91:{ru:"Солнце",ar:"الشمس",ayahs:15},92:{ru:"Ночь",ar:"الليل",ayahs:21},93:{ru:"Утро",ar:"الضحى",ayahs:11},94:{ru:"Раскрытие",ar:"الشرح",ayahs:8},95:{ru:"Смоковница",ar:"التين",ayahs:8},96:{ru:"Сгусток",ar:"العلق",ayahs:19},97:{ru:"Предопределение",ar:"القدر",ayahs:5},98:{ru:"Ясное знамение",ar:"البينة",ayahs:8},99:{ru:"Землетрясение",ar:"الزلزلة",ayahs:8},100:{ru:"Скачущие",ar:"العاديات",ayahs:11},101:{ru:"Великое бедствие",ar:"القارعة",ayahs:11},102:{ru:"Приумножение",ar:"التكاثر",ayahs:8},103:{ru:"Время",ar:"العصر",ayahs:3},104:{ru:"Хулитель",ar:"الهمزة",ayahs:9},105:{ru:"Слон",ar:"الفيل",ayahs:5},106:{ru:"Курайш",ar:"قريش",ayahs:4},107:{ru:"Мелочь",ar:"الماعون",ayahs:7},108:{ru:"Изобилие",ar:"الكوثر",ayahs:3},109:{ru:"Неверующие",ar:"الكافرون",ayahs:6},110:{ru:"Помощь",ar:"النصر",ayahs:3},111:{ru:"Пальмовые волокна",ar:"المسد",ayahs:5},112:{ru:"Искренность",ar:"الإخلاص",ayahs:4},113:{ru:"Рассвет",ar:"الفلق",ayahs:5},114:{ru:"Люди",ar:"الناس",ayahs:6}},Te=[1,112,113,114,108,109,110,111,103,105,106,107],Me=[108,103,110,106,112,97,105,111,113,109,114,1,107,94,95,99,102,104,93,100,101,91,87,96,90,92,88,89,67,78,55,36,56],Le={1:"Открывающая сура Корана, обязательная в каждом намазе. Содержит суть всего Корана — восхваление Аллаха, признание Его единственности и просьбу о руководстве на прямой путь.",2:"Самая длинная сура Корана, охватывающая основы вероучения, законодательства и истории пророков. Содержит аят аль-Курси (255) — величайший аят о величии Аллаха, а также законы о торговле, браке и посте.",18:"Сура о защите от смут и искушений. Рассказывает четыре истории: юноши в пещере, владелец двух садов, Муса и Хидр, Зуль-Карнайн. Пророк (мир ему) рекомендовал читать её каждую пятницу — она будет светом между двумя пятницами.",36:"Называется «сердцем Корана». Повествует о единобожии, пророческой миссии и воскрешении. Рекомендуется читать при посещении больных и умирающих, содержит сильные доказательства могущества Аллаха.",55:"«Милостивый» — сура о бесчисленных милостях Аллаха к Его творениям. Повторяющийся рефрен «Какое же из благодеяний Господа вашего вы сочтёте ложным?» напоминает о благодарности. Описывает Рай в мельчайших деталях.",56:"Сура о Дне Суда и трёх группах людей: приближённые к Аллаху, обитатели правой стороны (праведники) и обитатели левой стороны (грешники). Ярко описывает блаженство Рая и мучения Ада.",67:"«Власть» — сура, защищающая от мучений могилы. Пророк (мир ему) рекомендовал читать её каждую ночь перед сном. Размышляет о величии творения Аллаха и бессилии неверующих.",78:"«Весть» — сура о Дне Воскресения и его знамениях. Описывает природные явления как доказательства могущества Аллаха, а также подробности Судного Дня, наград праведникам и наказания грешникам.",87:"«Высочайший» — сура, прославляющая Аллаха и напоминающая о преходящности мирской жизни. Пророк (мир ему) читал её в пятничном намазе и праздничных молитвах. Призывает к очищению души.",93:"«Утро» — сура утешения, ниспосланная Пророку (мир ему) после перерыва в откровениях. Аллах напоминает о Своих благах и обещает, что будущее лучше прошлого. Учит благодарности и заботе о сиротах.",94:"«Раскрытие» — продолжение утешения Пророка (мир ему). Напоминает, что с каждой трудностью приходит облегчение (повторено дважды для усиления). Вдохновляет на терпение и упование на Аллаха.",95:"«Смоковница» — сура клянётся смоковницей, маслиной, горой Синай и Меккой. Утверждает, что человек создан в лучшем облике, но может пасть до низшего состояния, если не уверует и не будет совершать благие дела.",97:"«Предопределение» — сура о величии Ночи Предопределения (Ляйлятуль-Кадр), которая лучше тысячи месяцев. В эту ночь был ниспослан Коран, и ангелы нисходят с повелениями Аллаха. Мир царит до рассвета.",99:"«Землетрясение» — сура о потрясении земли в Судный День, когда она расскажет обо всём, что на ней происходило. Каждое деяние, даже весом в пылинку, будет показано человеку.",103:"«Время» — одна из самых коротких, но глубочайших сур. Имам аш-Шафии сказал: если бы люди размышляли только над ней, им бы этого было достаточно. Все люди в убытке, кроме верующих, творящих добро, призывающих к истине и терпению.",105:"«Слон» — сура о чуде уничтожения войска Абрахи, шедшего разрушить Каабу с боевыми слонами. Аллах послал птиц Абабиль с камнями из обожжённой глины, показав Свою защиту Священного Дома.",108:"«Изобилие» — самая короткая сура Корана (3 аята). Аллах дарует Пророку (мир ему) источник Аль-Каусар в Раю. Повелевает молиться и совершать жертвоприношение. Враги Пророка будут отрезаны от всякого блага.",109:"«Неверующие» — сура о чистоте вероисповедания и полном разграничении между исламом и многобожием. Завершается словами «У вас — ваша религия, а у меня — моя». Читается в сунне утреннего и вечернего намаза.",110:"«Помощь» — последняя по времени ниспослания сура. Предвещает победу ислама и массовое принятие веры. Учёные считают, что она намекала на скорую кончину Пророка (мир ему), повелевая ему просить прощения.",112:"Сура о чистом единобожии (таухиде). Равна по награде одной трети Корана. Утверждает абсолютное единство Аллаха — Он не родил и не был рождён, и нет никого, равного Ему.",113:"«Рассвет» — одна из двух защитных сур (аль-муаввизатайн). Просьба о защите у Господа рассвета от зла творений, от мрака ночи, от колдуний и от завистника. Пророк (мир ему) читал её каждую ночь перед сном.",114:"«Люди» — завершающая сура Корана и вторая из защитных сур. Просьба о защите у Господа людей от наущений шайтана, который отступает при поминании Аллаха. Читается вместе с сурой Аль-Фаляк для защиты."},Ie=[{value:25,label:"25%",description:"Слабо помню",color:"bg-red-500"},{value:50,label:"50%",description:"Средне",color:"bg-amber-500"},{value:75,label:"75%",description:"Хорошо",color:"bg-emerald-400"},{value:100,label:"100%",description:"Отлично!",color:"bg-emerald-500"}];function De(l){return l<30?"bg-red-500":l<70?"bg-amber-500":"bg-emerald-500"}function ne(l){return l<30?"text-red-400":l<70?"text-amber-400":"text-emerald-400"}function Oe(l){if(!l)return"Ещё не повторяли";const b=new Date(l),m=new Date().getTime()-b.getTime(),o=Math.floor(m/(1e3*60*60*24));return o===0?"Сегодня":o===1?"Вчера":o<7?`${o} дн. назад`:o<30?`${Math.floor(o/7)} нед. назад`:`${Math.floor(o/30)} мес. назад`}function A(l){return l.lastReviewedAt?(Date.now()-new Date(l.lastReviewedAt).getTime())/(1e3*60*60)>=12:!0}function Ze(){const l=pe(),b=n.useRef(null),[j,m]=n.useState(null),[o,u]=n.useState(!1);n.useEffect(()=>{const a=new Audio;return a.preload="auto",a.onended=()=>{m(null),u(!1)},a.onerror=()=>{m(null),u(!1)},a.oncanplay=()=>u(!1),b.current=a,()=>{a.pause(),a.src=""}},[]);const z=n.useCallback(a=>{const s=b.current;s&&(s.pause(),s.src=`https://cdn.islamic.network/quran/audio/128/ar.alafasy/${a}.mp3`,m(a),u(!0),s.play().catch(()=>{m(null),u(!1)}))},[]),[p,ie]=n.useState([]),[N,H]=n.useState(""),[ce,U]=n.useState(null),[de,R]=n.useState(null),[i,F]=n.useState(null),[$,E]=n.useState(null),[oe,P]=n.useState(!1),[V,T]=n.useState(null),[v,q]=n.useState(!0),[w,B]=n.useState(!0),[S,X]=n.useState(!0),y=n.useCallback(()=>{ie(k.getMemorizationList())},[]);n.useEffect(()=>{y()},[y]);const Y=[...p].sort((a,s)=>{const t=A(a),r=A(s);if(t&&!r)return-1;if(!t&&r)return 1;if(t&&r){const x=a.lastReviewedAt?new Date(a.lastReviewedAt).getTime():0,c=s.lastReviewedAt?new Date(s.lastReviewedAt).getTime():0;if(x!==c)return x-c}return a.confidence-s.confidence}),f=p.length,Z=f>0?Math.round(p.reduce((a,s)=>a+s.confidence,0)/f):0,xe=p.reduce((a,s)=>a+s.reviewCount,0),G=new Set(p.map(a=>a.surahNumber)),g=N.toLowerCase().trim(),J=g?Object.entries(h).filter(([a,s])=>{const t=parseInt(a);return a.includes(g)||s.ru.toLowerCase().includes(g)||s.ar.includes(g)||t.toString()===g}).map(([a])=>parseInt(a)):Me,K=a=>{k.addMemorizationSurah(a),y()},me=a=>{k.removeMemorizationSurah(a),U(null),R(null),y()},ue=(a,s)=>{k.reviewMemorizationSurah(a,s),R(null),y()},Q=a=>{const s=h[a];s&&(l.isPlaying&&l.currentSurah?.number===a?l.pause():l.play(a,s.ar,s.ru))},M=n.useCallback(async a=>{ee("medium"),F(a),P(!0),T(null),E(null),q(!0),B(!0),X(!0);try{const[s,t]=await Promise.all([ye(a),ge(a)]);E({arabic:s.ayahs,translation:t.ayahs})}catch(s){T(s instanceof Error?s.message:"Ошибка загрузки данных")}finally{P(!1)}},[]),he=n.useCallback(()=>{F(null),E(null),T(null),P(!1)},[]),be=n.useCallback(()=>{i&&M(i)},[i,M]);if(i!==null){const a=h[i],s=Le[i],t=Object.entries(h).filter(([r])=>parseInt(r)<i).reduce((r,[,x])=>r+x.ayahs,0);return e.jsxs("div",{className:"min-h-screen pb-24",children:[e.jsx("div",{className:"sticky top-0 z-20 t-bg-el backdrop-blur-xl border-b t-border",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:he,className:`flex items-center justify-center w-10 h-10 rounded-full
                         t-bg hover:t-bg transition-colors`,children:e.jsx(le,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-white text-lg font-semibold truncate",children:a?.ru||`Сура ${i}`}),e.jsxs("p",{className:"text-slate-500 text-xs",children:["Сура ",i," — ",a?.ayahs||"?"," аятов"]})]}),e.jsx("p",{className:"font-['Amiri'] text-amber-200/60 text-lg shrink-0",children:a?.ar||""})]})}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 mt-4 space-y-4",children:[s&&e.jsx("div",{className:"bg-violet-500/10 backdrop-blur-sm border border-violet-500/20 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center shrink-0 mt-0.5",children:e.jsx(C,{className:"w-4 h-4 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-violet-300 text-xs font-semibold uppercase tracking-wider mb-1.5",children:"О суре"}),e.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:s})]})]})}),e.jsx("button",{onClick:()=>Q(i),className:`w-full flex items-center justify-center gap-2.5 px-4 py-3 rounded-xl
                        text-sm font-medium transition-all duration-200 border
                        ${l.isPlaying&&l.currentSurah?.number===i?"bg-amber-500/20 text-amber-300 border-amber-500/30":"bg-amber-500/10 text-amber-400 border-amber-500/15 hover:bg-amber-500/20"}`,children:l.isPlaying&&l.currentSurah?.number===i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5"}),"Пауза"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-5 h-5"}),"Слушать всю суру"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>q(r=>!r),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-full
                          text-xs font-medium transition-all duration-200 border
                          ${v?"bg-amber-500/15 text-amber-300 border-amber-500/25":"t-bg text-slate-500 t-border-s"}`,children:[v?e.jsx(O,{className:"w-3.5 h-3.5"}):e.jsx(_,{className:"w-3.5 h-3.5"}),"Арабский"]}),e.jsxs("button",{onClick:()=>B(r=>!r),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-full
                          text-xs font-medium transition-all duration-200 border
                          ${w?"bg-violet-500/15 text-violet-300 border-violet-500/25":"t-bg text-slate-500 t-border-s"}`,children:[w?e.jsx(O,{className:"w-3.5 h-3.5"}):e.jsx(_,{className:"w-3.5 h-3.5"}),"Транслит"]}),e.jsxs("button",{onClick:()=>X(r=>!r),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-full
                          text-xs font-medium transition-all duration-200 border
                          ${S?"bg-emerald-500/15 text-emerald-300 border-emerald-500/25":"t-bg text-slate-500 t-border-s"}`,children:[S?e.jsx(O,{className:"w-3.5 h-3.5"}):e.jsx(_,{className:"w-3.5 h-3.5"}),"Перевод"]})]}),oe&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[e.jsx(se,{className:"w-8 h-8 text-emerald-400 animate-spin"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Загрузка аятов..."})]}),V&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-6 text-center",children:[e.jsx("p",{className:"text-red-400 text-sm mb-3",children:V}),e.jsxs("button",{onClick:be,className:`flex items-center justify-center gap-2 mx-auto px-4 py-2 rounded-xl
                           bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors
                           text-sm font-medium`,children:[e.jsx(Ce,{className:"w-4 h-4"}),"Повторить"]})]}),$&&e.jsx("div",{className:"space-y-3",children:$.arabic.map((r,x)=>{const c=t+r.numberInSurah,d=i?Se(i,r.numberInSurah):null,W=$.translation[x],L=j===c,I=o&&j===c;return e.jsxs("div",{className:"t-bg backdrop-blur-sm border t-border-s rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/15 flex items-center justify-center",children:e.jsx("span",{className:"text-emerald-400 text-xs font-bold",children:r.numberInSurah})}),e.jsxs("button",{onClick:()=>{ee("light"),L?(b.current?.pause(),m(null),u(!1)):z(c)},className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg transition-colors
                                   ${L?"bg-amber-500/25 ring-1 ring-amber-500/40":I?"bg-amber-500/15 animate-pulse":"bg-amber-500/10 hover:bg-amber-500/20"}`,children:[I?e.jsx(se,{className:"w-3 h-3 text-amber-400 animate-spin"}):L?e.jsx(D,{className:"w-3 h-3 text-amber-400"}):e.jsx(je,{className:"w-3 h-3 text-amber-400"}),e.jsx("span",{className:"text-amber-400 text-[10px] font-medium",children:I?"...":"Аят"})]})]}),v&&e.jsx("p",{className:"font-['Amiri'] text-amber-100 text-xl leading-[2.2] text-right mb-3",dir:"rtl",children:r.text}),w&&d&&e.jsx("p",{className:"text-violet-300/70 text-sm italic leading-relaxed mb-2",children:d}),S&&W&&e.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:W.text}),!v&&!w&&!S&&e.jsx("p",{className:"text-slate-600 text-xs text-center italic",children:"Все слои скрыты — включите видимость выше"})]},r.numberInSurah)})})]}),e.jsx("div",{className:"h-8"})]})}return e.jsxs("div",{className:"min-h-screen pb-24",children:[e.jsx("div",{className:"sticky top-0 z-20 t-bg-el backdrop-blur-xl border-b t-border",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>window.history.back(),className:`flex items-center justify-center w-10 h-10 rounded-full
                       t-bg hover:t-bg transition-colors`,children:e.jsx(le,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-white text-lg font-semibold",children:"Заучивание сур"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Хифз — учи Коран наизусть"})]}),e.jsx(C,{className:"w-5 h-5 text-emerald-400/60"})]})}),f>0&&e.jsx("div",{className:"max-w-lg mx-auto px-4 mt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 t-bg backdrop-blur-sm border t-border-s rounded-xl px-3 py-2.5 text-center",children:[e.jsx("p",{className:"text-emerald-400 text-lg font-bold",children:f}),e.jsx("p",{className:"text-slate-500 text-[10px] uppercase tracking-wider",children:"Сур"})]}),e.jsxs("div",{className:"flex-1 t-bg backdrop-blur-sm border t-border-s rounded-xl px-3 py-2.5 text-center",children:[e.jsxs("p",{className:`text-lg font-bold ${ne(Z)}`,children:[Z,"%"]}),e.jsx("p",{className:"text-slate-500 text-[10px] uppercase tracking-wider",children:"Уверенность"})]}),e.jsxs("div",{className:"flex-1 t-bg backdrop-blur-sm border t-border-s rounded-xl px-3 py-2.5 text-center",children:[e.jsx("p",{className:"text-amber-400 text-lg font-bold",children:xe}),e.jsx("p",{className:"text-slate-500 text-[10px] uppercase tracking-wider",children:"Повторений"})]})]})}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ne,{className:"w-4 h-4 text-amber-400"}),e.jsx("h2",{className:"text-white text-sm font-semibold",children:"Мои суры"}),f>0&&e.jsxs("span",{className:"text-slate-500 text-xs ml-auto",children:[Y.filter(A).length," к повторению"]})]}),f===0&&e.jsxs("div",{className:"t-bg backdrop-blur-sm border t-border-s rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-emerald-500/10 flex items-center justify-center",children:e.jsx(C,{className:"w-8 h-8 text-emerald-400"})}),e.jsx("p",{className:"text-white font-medium mb-1",children:"Начни учить суры Корана!"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Добавь первую суру ниже и начни заучивание с помощью аудио и повторений"})]}),e.jsx("div",{className:"space-y-3",children:Y.map(a=>{const s=h[a.surahNumber];if(!s)return null;const t=ce===a.surahNumber,r=de===a.surahNumber,x=l.isPlaying&&l.currentSurah?.number===a.surahNumber,c=A(a);return e.jsxs("div",{className:`t-bg backdrop-blur-sm border rounded-2xl overflow-hidden transition-all duration-200
                  ${c?"border-amber-500/20":"t-border-s"}
                  ${t?"ring-1 ring-emerald-500/20":""}`,children:[e.jsx("div",{className:"px-4 py-3 cursor-pointer",onClick:()=>U(t?null:a.surahNumber),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 text-sm font-bold
                        ${c?"bg-amber-500/15 text-amber-400":"bg-emerald-500/15 text-emerald-400"}`,children:a.surahNumber}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white text-sm font-medium truncate",children:s.ru}),e.jsxs("span",{className:"text-slate-600 text-xs",children:[s.ayahs," аятов"]})]}),e.jsx("p",{className:"font-['Amiri'] text-right text-amber-200/60 text-base mt-0.5 leading-relaxed",children:s.ar}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 t-bg rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${De(a.confidence)}`,style:{width:`${a.confidence}%`}})}),e.jsxs("span",{className:`text-xs font-medium tabular-nums ${ne(a.confidence)}`,children:[a.confidence,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[e.jsxs("span",{className:"flex items-center gap-1 text-slate-500 text-[11px]",children:[e.jsx(Ae,{className:"w-3 h-3"}),a.reviewCount," повтор."]}),e.jsx("span",{className:"text-slate-600 text-[11px]",children:Oe(a.lastReviewedAt)}),c&&e.jsx("span",{className:"text-amber-400 text-[10px] font-medium bg-amber-500/10 px-1.5 py-0.5 rounded-full",children:"Повторить"})]})]}),e.jsx("button",{onClick:d=>{d.stopPropagation(),me(a.surahNumber)},className:`w-7 h-7 rounded-full flex items-center justify-center
                                 hover:bg-red-500/10 transition-colors shrink-0 mt-0.5`,children:e.jsx(te,{className:"w-3.5 h-3.5 text-slate-600 hover:text-red-400"})})]})}),t&&e.jsxs("div",{className:"px-4 pb-3 pt-1 border-t t-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Q(a.surahNumber),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl
                                    text-sm font-medium transition-all duration-200
                                    ${x?"bg-amber-500/20 text-amber-300 ring-1 ring-amber-500/30":"bg-amber-500/10 text-amber-400 hover:bg-amber-500/20"}`,children:x?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4"}),"Пауза"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4"}),"Слушать"]})}),e.jsxs("button",{onClick:()=>R(r?null:a.surahNumber),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl
                                    text-sm font-medium transition-all duration-200
                                    ${r?"bg-emerald-500/20 text-emerald-300 ring-1 ring-emerald-500/30":"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20"}`,children:[e.jsx(Re,{className:"w-4 h-4"}),"Повторил"]}),e.jsxs("button",{onClick:()=>M(a.surahNumber),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl
                                   text-sm font-medium transition-all duration-200
                                   bg-violet-500/10 text-violet-400 hover:bg-violet-500/20`,children:[e.jsx(C,{className:"w-4 h-4"}),"Учить"]})]}),r&&e.jsxs("div",{className:"mt-3 t-bg rounded-xl p-3",children:[e.jsxs("p",{className:"text-slate-400 text-xs mb-2.5 text-center",children:["Как хорошо помнишь? (+",ve.MEMORIZE_REPEAT," баллов)"]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Ie.map(d=>e.jsxs("button",{onClick:()=>ue(a.surahNumber,d.value),className:`flex flex-col items-center gap-1 p-2 rounded-lg
                                         t-bg hover:t-bg border t-border
                                         hover:t-border-s transition-all duration-150`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full ${d.color} flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-[10px] font-bold",children:d.label})}),e.jsx("span",{className:"text-slate-400 text-[10px] leading-tight text-center",children:d.description})]},d.value))})]}),a.pointsEarned>0&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx(ke,{className:"w-3 h-3 text-emerald-500/50"}),e.jsxs("span",{className:"text-emerald-500/50 text-[10px]",children:["+",a.pointsEarned," баллов заработано"]})]})]})]},a.surahNumber)})})]}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(we,{className:"w-4 h-4 text-amber-400"}),e.jsx("h2",{className:"text-white text-sm font-semibold",children:"Для намаза"}),e.jsx("span",{className:"text-slate-500 text-xs ml-auto",children:"обязательные"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Te.map(a=>{const s=h[a];if(!s)return null;const t=G.has(a);return e.jsxs("button",{onClick:()=>!t&&K(a),disabled:t,className:`relative flex items-center gap-2.5 p-3 rounded-xl text-left
                            transition-all duration-200 border
                            ${t?"bg-emerald-500/5 border-emerald-500/15 opacity-60 cursor-default":"bg-amber-500/5 border-amber-500/15 hover:bg-amber-500/10 hover:border-amber-500/25 active:scale-[0.98]"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 text-xs font-bold
                    ${t?"bg-emerald-500/15 text-emerald-400":"bg-amber-500/10 text-amber-400"}`,children:t?e.jsx(re,{className:"w-4 h-4 text-emerald-400"}):a}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-xs font-medium truncate ${t?"text-emerald-400/70":"text-white"}`,children:s.ru}),e.jsxs("p",{className:"text-slate-600 text-[10px]",children:[s.ayahs," аятов"]})]})]},`prayer-${a}`)})})]}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx($e,{className:"w-4 h-4 text-emerald-400"}),e.jsx("h2",{className:"text-white text-sm font-semibold",children:"Все суры"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{type:"text",value:N,onChange:a=>H(a.target.value),placeholder:"Поиск по названию или номеру...",className:`w-full t-bg border t-border-s rounded-xl pl-10 pr-9 py-2.5
                       text-white text-sm placeholder:text-slate-600 outline-none
                       focus:border-emerald-500/30 focus:ring-1 focus:ring-emerald-500/20 transition-all`}),N&&e.jsx("button",{onClick:()=>H(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(te,{className:"w-4 h-4 text-slate-500 hover:text-slate-300"})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:J.map(a=>{const s=h[a];if(!s)return null;const t=G.has(a);return e.jsxs("button",{onClick:()=>!t&&K(a),disabled:t,className:`relative flex items-center gap-2.5 p-3 rounded-xl text-left
                            transition-all duration-200 border
                            ${t?"bg-emerald-500/5 border-emerald-500/15 opacity-60 cursor-default":"t-bg t-border-s hover:t-bg hover:border-white/20 active:scale-[0.98]"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 text-xs font-bold
                    ${t?"bg-emerald-500/15 text-emerald-400":"t-bg text-slate-400"}`,children:t?e.jsx(re,{className:"w-4 h-4 text-emerald-400"}):a}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-xs font-medium truncate ${t?"text-emerald-400/70":"text-white"}`,children:s.ru}),e.jsxs("p",{className:"text-slate-600 text-[10px]",children:[s.ayahs," аятов"]})]})]},a)})}),J.length===0&&N&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"Ничего не найдено"}),e.jsx("p",{className:"text-slate-600 text-xs mt-1",children:"Попробуйте другой запрос"})]})]}),e.jsx("div",{className:"h-8"})]})}export{Ze as default};
