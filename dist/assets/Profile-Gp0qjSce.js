import{E as ee,s as i,F as te,G as N,I as O,J as se,j as e,C as ae,a as I,M as $,K as le,N as re,S as ne,v as R,U as oe,A as ie,O as ce,Q as de,f as z}from"./index-Cln3HTWx.js";import{u as xe,b as c}from"./vendor-CpRrxz-h.js";import{i as me,S as ue}from"./adminConfig-Ns0CS1rF.js";import{S as B}from"./sun-CEDE04hu.js";import{R as pe}from"./rotate-ccw-DtCkybWM.js";function he(d){const x=Math.abs(d)%100,m=x%10;return x>=11&&x<=19?"–¥–Ω–µ–π":m===1?"–¥–µ–Ω—å":m>=2&&m<=4?"–¥–Ω—è":"–¥–Ω–µ–π"}function ge(d){const x=new Date(d),a=new Date().getTime()-x.getTime();return Math.max(0,Math.floor(a/(1e3*60*60*24)))}function g({icon:d,label:x,value:m,color:a,bgColor:s}){return e.jsxs("div",{className:"glass-card p-4 flex items-center gap-3",children:[e.jsx("div",{className:`${s} w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0`,children:e.jsx(d,{size:20,className:a})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-lg font-bold leading-tight",style:{color:"var(--text-primary)"},children:m}),e.jsx("p",{className:"text-[11px] leading-tight mt-0.5",style:{color:"var(--text-muted)"},children:x})]})]})}function ye(){const d=xe(),{theme:x,toggleTheme:m,isDark:a}=ee(),[s,f]=c.useState(i.getProfile()),[J,T]=c.useState(!1),[E,y]=c.useState(s.name),[w,k]=c.useState(s.city),[_,b]=c.useState(!1),[Q,C]=c.useState(!1),p=te(s.totalPoints),r=N.findIndex(t=>t.name===p.name),n=N.find(t=>t.minPoints>s.totalPoints),S=s.totalPoints-p.minPoints,M=n?n.minPoints-p.minPoints:1,j=n?Math.min(100,S/M*100):100,P=ge(s.joinedAt),q=i.getNamesProgress(),G=i.getFavoriteHadiths(),H=i.getQuranBookmarks(),[K,L]=c.useState(0);c.useEffect(()=>{const t=localStorage.getItem("iman_prayer_logs");if(!t){L(0);return}try{const l=JSON.parse(t);let u=0;for(const o of Object.values(l))for(const v of Object.values(o.prayers))(v.status==="ontime"||v.status==="late")&&u++;L(u)}catch{L(0)}},[]),c.useEffect(()=>{function t(){f(i.getProfile())}return window.addEventListener("focus",t),()=>window.removeEventListener("focus",t)},[]);function D(){const t=E.trim(),l=i.setProfile({name:t});f(l),T(!1)}function V(t){k(t.name),b(!1);const l=i.setProfile({city:t.name,lat:t.lat,lng:t.lng});f(l)}function W(t){k(t),b(t.length>0)}function X(){setTimeout(()=>b(!1),200)}function Y(){i.clearAll(),f(i.getProfile()),C(!1),k(""),y("")}const F=w?O.filter(t=>t.name.toLowerCase().includes(w.toLowerCase())):O,Z=s.name?s.name.charAt(0).toUpperCase():"?",h=se(),U=h?.photoUrl||s.telegramPhoto||"",A=me(h?.id,h?.username);return e.jsxs("div",{className:"min-h-screen pb-8 px-4 pt-6 max-w-lg mx-auto space-y-6 animate-fade-in",children:[e.jsxs("header",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"glass-card w-9 h-9 flex items-center justify-center hover:scale-105 active:scale-95 transition-transform",children:e.jsx(ae,{size:18,style:{color:"var(--text-secondary)"}})}),e.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"–ü—Ä–æ—Ñ–∏–ª—å"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsxs("div",{className:"relative",children:[U?e.jsx("img",{src:U,alt:s.name,className:"w-24 h-24 rounded-full object-cover",style:{boxShadow:r>=4?"0 0 30px rgba(245,158,11,0.4), 0 0 60px rgba(245,158,11,0.15)":r>=2?"0 0 20px rgba(16,185,129,0.3), 0 0 40px rgba(16,185,129,0.1)":"0 0 15px rgba(255,255,255,0.05)"}}):e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-3xl font-bold",style:{color:"var(--text-primary)",background:"linear-gradient(135deg, rgba(16,185,129,0.3), rgba(245,158,11,0.3))",boxShadow:r>=4?"0 0 30px rgba(245,158,11,0.4), 0 0 60px rgba(245,158,11,0.15)":r>=2?"0 0 20px rgba(16,185,129,0.3), 0 0 40px rgba(16,185,129,0.1)":"0 0 15px rgba(255,255,255,0.05)"},children:Z}),e.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",style:{background:r>=4?"linear-gradient(135deg, #f59e0b, #d97706)":r>=2?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08))",boxShadow:r>=4?"0 0 12px rgba(245,158,11,0.5)":r>=2?"0 0 12px rgba(16,185,129,0.4)":"none",color:r>=2?"#fff":"rgba(255,255,255,0.7)"},children:[e.jsx("span",{children:p.icon}),e.jsx("span",{children:p.name})]})]}),e.jsx("div",{className:"mt-4 w-full max-w-xs",children:J?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:E,onChange:t=>y(t.target.value),onKeyDown:t=>t.key==="Enter"&&D(),autoFocus:!0,placeholder:"–í–∞—à–µ –∏–º—è",className:"flex-1 rounded-xl px-4 py-2.5 text-center text-lg font-semibold focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/30 transition-colors",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),e.jsx("button",{onClick:D,className:"bg-emerald-500/20 text-emerald-400 w-10 h-10 rounded-xl flex items-center justify-center hover:bg-emerald-500/30 transition-colors",children:e.jsx(I,{size:18})})]}):e.jsx("button",{onClick:()=>{y(s.name),T(!0)},className:"text-lg font-semibold text-white hover:text-emerald-400 transition-colors",children:s.name||"–£–∫–∞–∂–∏—Ç–µ –∏–º—è"})}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-faint)"},children:P===0?"–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è —Å–µ–≥–æ–¥–Ω—è":`–° –Ω–∞–º–∏ ${P} ${he(P)}`})]}),e.jsxs("div",{className:"glass-card p-5 space-y-5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-amber-500/8 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"text-3xl",children:p.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:p.name}),e.jsxs("p",{className:"text-xs t-text-m",children:[s.totalPoints.toLocaleString()," –æ—á–∫–æ–≤"]})]})]}),n&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs t-text-f",children:"–°–ª–µ–¥—É—é—â–∏–π"}),e.jsxs("p",{className:"text-sm font-semibold text-amber-400/80",children:[n.icon," ",n.name]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-[11px] t-text-f mb-1.5",children:[e.jsxs("span",{children:[S.toLocaleString()," /"," ",(n?M:S).toLocaleString()]}),e.jsxs("span",{children:[Math.round(j),"%"]})]}),e.jsx("div",{className:"w-full h-3 t-bg rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out",style:{width:`${j}%`,background:j>=100?"linear-gradient(90deg, #f59e0b, #fbbf24)":"linear-gradient(90deg, #10b981, #34d399)",boxShadow:j>=100?"0 0 12px rgba(245,158,11,0.5)":"0 0 12px rgba(16,185,129,0.4)"}})}),n&&e.jsxs("p",{className:"text-[10px] t-text-f mt-1.5",children:["–ï—â—ë ",(n.minPoints-s.totalPoints).toLocaleString()," ","–æ—á–∫–æ–≤ –¥–æ"," ",e.jsxs("span",{className:"text-amber-400/50",children:[n.icon," ",n.name]})]})]}),e.jsx("div",{className:"space-y-0",children:N.map((t,l)=>{const u=s.totalPoints>=t.minPoints&&l<r,o=l===r,v=l>r;return e.jsxs("div",{className:"flex items-stretch gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center w-8 flex-shrink-0",children:[e.jsx("div",{className:`w-0.5 flex-1 ${l===0?"bg-transparent":u||o?"bg-emerald-500/40":"t-bg"}`}),e.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 text-sm transition-all duration-300 ${o?"ring-2 ring-emerald-400/50":""}`,style:{background:o?"linear-gradient(135deg, #10b981, #059669)":u?"rgba(16,185,129,0.2)":"rgba(255,255,255,0.05)",boxShadow:o?"0 0 16px rgba(16,185,129,0.4)":"none"},children:u?e.jsx(I,{size:14,className:"text-emerald-400"}):e.jsx("span",{className:`text-xs ${o?"":"grayscale opacity-50"}`,children:t.icon})}),e.jsx("div",{className:`w-0.5 flex-1 ${l===N.length-1?"bg-transparent":u?"bg-emerald-500/40":"t-bg"}`})]}),e.jsxs("div",{className:`flex-1 py-2.5 flex items-center justify-between ${o?"text-white":u?"t-text-s":"t-text-f"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm font-semibold ${o?"text-emerald-400":""}`,children:t.name}),o&&e.jsx("span",{className:"text-[9px] uppercase tracking-widest bg-emerald-500/15 text-emerald-400/80 px-2 py-0.5 rounded-full font-semibold",children:"–°–µ–π—á–∞—Å"})]}),e.jsx("span",{className:`text-xs font-mono tabular-nums ${v?"t-text-h":"t-text-f"}`,children:t.minPoints.toLocaleString()})]})]},t.name)})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold t-text-m uppercase tracking-widest mb-3 px-1",children:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(g,{icon:$,label:"–ù–∞–º–∞–∑–æ–≤ —Å–æ–≤–µ—Ä—à–µ–Ω–æ",value:K,color:"text-emerald-400",bgColor:"bg-emerald-400/10"}),e.jsx(g,{icon:le,label:"–°–µ—Ä–∏—è / —Ä–µ–∫–æ—Ä–¥",value:`${s.streak} / ${s.longestStreak}`,color:"text-amber-400",bgColor:"bg-amber-400/10"}),e.jsx(g,{icon:re,label:"–í—Å–µ–≥–æ –æ—á–∫–æ–≤",value:s.totalPoints.toLocaleString(),color:"text-yellow-400",bgColor:"bg-yellow-400/10"}),e.jsx(g,{icon:ne,label:"–ò–º—ë–Ω –ê–ª–ª–∞—Ö–∞ –∏–∑—É—á–µ–Ω–æ",value:`${q.learned.length}/99`,color:"text-purple-400",bgColor:"bg-purple-400/10"}),e.jsx(g,{icon:R,label:"–•–∞–¥–∏—Å–æ–≤ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ",value:G.length,color:"text-sky-400",bgColor:"bg-sky-400/10"}),e.jsx(g,{icon:oe,label:"–°—É—Ä –≤ –∑–∞–∫–ª–∞–¥–∫–∞—Ö",value:H.length,color:"text-rose-400",bgColor:"bg-rose-400/10"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-widest mb-3 px-1",style:{color:"var(--text-muted)"},children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsxs("div",{className:"glass-card p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:a?"rgba(99,102,241,0.15)":"rgba(245,158,11,0.15)"},children:a?e.jsx($,{size:20,className:"text-indigo-400"}):e.jsx(B,{size:20,className:"text-amber-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:a?"–¢—ë–º–Ω–∞—è —Ç–µ–º–∞":"–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞"}),e.jsx("p",{className:"text-[11px]",style:{color:"var(--text-muted)"},children:a?"–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é":"–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç—ë–º–Ω—É—é"})]})]}),e.jsx("button",{onClick:m,className:"relative w-14 h-8 rounded-full transition-all duration-300",style:{background:a?"rgba(99,102,241,0.3)":"rgba(16,185,129,0.3)"},children:e.jsx("div",{className:"absolute top-1 w-6 h-6 rounded-full transition-all duration-300 flex items-center justify-center",style:{left:a?"4px":"calc(100% - 28px)",background:a?"#6366f1":"#10b981",boxShadow:`0 0 10px ${a?"rgba(99,102,241,0.5)":"rgba(16,185,129,0.5)"}`},children:a?e.jsx($,{size:12,className:"text-white"}):e.jsx(B,{size:12,className:"text-white"})})})]}),e.jsx("div",{className:"h-px",style:{background:"var(--border-primary)"}}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs mb-2",style:{color:"var(--text-muted)"},children:[e.jsx(ie,{size:14}),e.jsx("span",{children:"–ì–æ—Ä–æ–¥ (–¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞)"})]}),e.jsx("input",{type:"text",value:w,onChange:t=>W(t.target.value),onFocus:()=>b(!0),onBlur:X,placeholder:"–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥...",className:"w-full rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/30 transition-colors",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),_&&F.length>0&&e.jsx("div",{className:"absolute z-20 top-full mt-1 left-0 right-0 backdrop-blur-xl rounded-xl overflow-hidden shadow-2xl",style:{background:"var(--dropdown-bg)",border:"1px solid var(--border-secondary)"},children:F.map(t=>e.jsxs("button",{onMouseDown:l=>l.preventDefault(),onClick:()=>V(t),className:`w-full text-left px-4 py-2.5 text-sm transition-colors flex items-center justify-between ${s.city===t.name?"text-emerald-400":""}`,style:{color:s.city===t.name?void 0:"var(--text-secondary)"},children:[e.jsx("span",{children:t.name}),s.city===t.name&&e.jsx(I,{size:14,className:"text-emerald-400"})]},t.name))}),s.city&&e.jsxs("p",{className:"text-[10px] t-text-h mt-1.5 px-1",children:["–¢–µ–∫—É—â–∏–π –≥–æ—Ä–æ–¥: ",s.city,s.lat&&s.lng&&e.jsxs("span",{children:[" ","(",s.lat.toFixed(2),", ",s.lng.toFixed(2),")"]})]})]})]})]}),e.jsx("div",{className:"glass-card p-1 space-y-0.5",children:[{icon:ce,label:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",desc:"–ù–∞–º–∞–∑—ã, –ø—Ä–∏–≤—ã—á–∫–∏, –æ—á–∫–∏",path:"/stats",color:"text-lime-400"},{icon:de,label:"–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤",desc:"–í—É–¥—É, –Ω–∞–º–∞–∑, –æ—Å–Ω–æ–≤—ã",path:"/beginners",color:"text-yellow-400"},{icon:R,label:"–í–≤–µ–¥–µ–Ω–∏–µ",desc:"–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —É—Ä–æ–≤–Ω–∏",path:"/guide",color:"text-slate-400"}].map(t=>e.jsxs("button",{onClick:()=>d(t.path),className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl hover:bg-white/[0.03] active:scale-[0.98] transition-all",children:[e.jsx(t.icon,{size:18,className:t.color}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.label}),e.jsx("p",{className:"text-[11px]",style:{color:"var(--text-muted)"},children:t.desc})]}),e.jsx(z,{size:16,style:{color:"var(--text-muted)"}})]},t.path))}),h&&e.jsxs("div",{className:"glass-card p-4 border border-purple-500/20",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider mb-2",style:{color:"var(--text-muted)"},children:"–í–∞—à Telegram ID"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("code",{className:"flex-1 px-3 py-2 rounded-lg bg-black/20 text-purple-400 font-mono text-sm",children:h.id}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(h.id.toString()),alert("Telegram ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!")},className:"px-4 py-2 bg-purple-500/20 text-purple-400 rounded-lg text-xs font-medium hover:bg-purple-500/30 active:scale-95 transition-all",children:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"})]}),A&&e.jsx("p",{className:"text-xs mt-2",style:{color:"var(--text-faint)"},children:"‚úì –í—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"})]}),A&&e.jsxs("button",{onClick:()=>d("/admin"),className:"w-full bg-red-500/20 border-2 border-red-500 text-red-500 p-4 rounded-xl flex items-center justify-between hover:bg-red-500/30 active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold",children:"–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"}),e.jsx("p",{className:"text-xs opacity-70",children:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"})]})]}),e.jsx(z,{className:"w-5 h-5"})]}),e.jsxs("a",{href:"https://t.me/+UcggjLlqNuAyN2Qy",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 text-emerald-400 p-4 rounded-xl flex items-center justify-between hover:from-emerald-500/20 hover:to-teal-500/20 active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/15 flex items-center justify-center text-lg",children:"üì¢"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-sm",children:"–ù–∞—à Telegram-–∫–∞–Ω–∞–ª"}),e.jsx("p",{className:"text-xs opacity-70",children:"–•–∞–¥–∏—Å—ã, –¥—É–∞ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"})]})]}),e.jsx(z,{className:"w-5 h-5"})]}),e.jsx("div",{className:"pt-4",children:Q?e.jsxs("div",{className:"glass-card p-5 border-red-500/20 space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-red-400 mb-1",children:"–í—ã —É–≤–µ—Ä–µ–Ω—ã?"}),e.jsx("p",{className:"text-xs t-text-m leading-relaxed",children:"–í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã: –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞–º–∞–∑–æ–≤, –æ—á–∫–∏, —É—Ä–æ–≤–µ–Ω—å, –∑–∞–∫–ª–∞–¥–∫–∏ –∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ö–∞–¥–∏—Å—ã. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-2.5 rounded-xl t-bg t-text-s text-sm font-medium transition-colors",children:"–û—Ç–º–µ–Ω–∞"}),e.jsx("button",{onClick:Y,className:"flex-1 py-2.5 rounded-xl bg-red-500/20 text-red-400 text-sm font-medium hover:bg-red-500/30 transition-colors",children:"–£–¥–∞–ª–∏—Ç—å –≤—Å—ë"})]})]}):e.jsxs("button",{onClick:()=>C(!0),className:"w-full flex items-center justify-center gap-2 py-3.5 rounded-2xl border border-red-500/20 text-red-400/70 text-sm font-medium hover:bg-red-500/5 hover:border-red-500/30 active:scale-[0.98] transition-all",children:[e.jsx(pe,{size:16}),e.jsx("span",{children:"–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ"})]})}),e.jsx("div",{className:"h-4"})]})}export{ye as default};
