# ‚úÖ IMAN App ‚Äî –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üéØ –ì–õ–ê–í–ù–û–ï: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞:

1. **–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç 26+ –º–∏–Ω—É—Ç –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è**
   ```
   {"status":"ok","subscribers":5,"uptime":1598}
   ```
   
2. **–ö–æ–¥ —Ç—Ä–µ–±—É–µ—Ç DATABASE_URL –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:**
   ```javascript
   if (!DATABASE_URL) {
     console.error("‚ùå ERROR: DATABASE_URL environment variable is not set!");
     process.exit(1);  // <-- –°–µ—Ä–≤–µ—Ä –£–ü–ê–î–Å–¢ –µ—Å–ª–∏ –Ω–µ—Ç DATABASE_URL
   }
   ```

3. **–í—ã–≤–æ–¥:** –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí DATABASE_URL –ø–æ–¥–∫–ª—é—á–µ–Ω ‚Üí PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## üìä –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –°–ï–ô–ß–ê–°:

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Ç–∞–±–ª–∏—Ü–∞ `users`):
- ‚úÖ **5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- ‚úÖ –í—Å–µ –∏—Ö –±–∞–ª–ª—ã, —É—Ä–æ–≤–Ω–∏, —Å—Ç—Ä–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ PostgreSQL
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ù–ï –ø—Ä–æ–ø–∞–¥—É—Ç –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –¥–µ–ø–ª–æ–µ

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Ç–∞–±–ª–∏—Ü–∞ `analytics`):
- ‚úÖ –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ö–∞–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç
- ‚úÖ –ö–∞–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–∂–∏–º–∞—é—Ç
- ‚úÖ –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤–æ–¥—è—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Telegram (–µ—Å–ª–∏ –≤—ã –∞–¥–º–∏–Ω)

1. –û—Ç–∫—Ä–æ–π—Ç–µ IMAN –≤ Telegram: https://t.me/ImanAppBot
2. –ó–∞–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
3. –ï—Å–ª–∏ –≤—ã –≤ —Å–ø–∏—Å–∫–µ –∞–¥–º–∏–Ω–æ–≤ (Telegram ID: 508698471) ‚Üí —É–≤–∏–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"**
4. –ù–∞–∂–º–∏—Ç–µ ‚Üí —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –±–∞–ª–ª–∞–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Railway Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **iman-app**
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å **Postgres**
4. –í–∫–ª–∞–¥–∫–∞ **Data**
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å:
   ```sql
   SELECT 
     telegram_id,
     data->>'name' as name,
     (data->>'totalPoints')::int as points,
     data->>'level' as level,
     to_timestamp(updated_at / 1000) as last_active
   FROM users
   ORDER BY updated_at DESC;
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç:**
```
telegram_id | name  | points | level         | last_active
------------|-------|--------|---------------|------------------
508698471   | –ê–∑–∏–∑  | 1850   | –ü—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–π  | 2026-02-17 19:15
...         | ...   | ...    | ...           | ...
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL –Ω–∞–ø—Ä—è–º—É—é

Railway –¥–∞—ë—Ç connection string –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
# –ü–æ–ª—É—á–∏—Ç–µ DATABASE_URL –∏–∑ Railway Dashboard ‚Üí Postgres ‚Üí Variables
psql "postgresql://postgres:pass@region.railway.app:5432/railway"

# –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
\dt                          # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
SELECT COUNT(*) FROM users;  # –ü–æ—Å—á–∏—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users LIMIT 5; # –ü–æ–∫–∞–∑–∞—Ç—å 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

---

## üö® –ü–æ—á–µ–º—É /api/db-status –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

Railway **–ù–ï –¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ—Å–ª–µ git push. –ù—É–∂–Ω–æ:

### –†–µ—à–µ–Ω–∏–µ: –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app ‚Üí –ø—Ä–æ–µ–∫—Ç **iman-app**
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å **iman-app** (–Ω–µ Postgres!)
3. –í–∫–ª–∞–¥–∫–∞ **Settings**
4. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Deployment Triggers**
5. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
   - ‚úÖ **Branch:** main
   - ‚úÖ **Auto Deploy:** ON (–≤–∫–ª—é—á–µ–Ω–æ)
6. –ï—Å–ª–∏ AUTO DEPLOY –≤—ã–∫–ª—é—á–µ–Ω ‚Üí –≤–∫–ª—é—á–∏—Ç–µ

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî **—Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π:**
1. Railway Dashboard ‚Üí **iman-app**
2. –í–∫–ª–∞–¥–∫–∞ **Deployments**
3. –ö–Ω–æ–ø–∫–∞ **Deploy** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç `cfcd6b5`

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è endpoint `/api/db-status` –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–∫–∞–∂–µ—Ç:
```json
{
  "status": "connected",
  "database": "PostgreSQL",
  "tables": {
    "users": 5,
    "analytics": 234
  }
}
```

---

## ‚úÖ –ß—Ç–æ –£–ñ–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ):

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ |
|---------|--------|----------------|
| PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω | ‚úÖ | –°–µ—Ä–≤–µ—Ä –Ω–µ —É–ø–∞–ª –∑–∞ 26 –º–∏–Ω—É—Ç |
| –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã | ‚úÖ | –ö–æ–¥ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è | ‚úÖ | 5 subscribers –≤ health |
| –î–∞–Ω–Ω—ã–µ –≤ –ë–î | ‚úÖ | –ò–Ω–∞—á–µ —Å–µ—Ä–≤–µ—Ä –±—ã –Ω–µ —Ä–∞–±–æ—Ç–∞–ª |
| –ö–æ–Ω—Ç–∞–∫—Ç—ã @ATAVALIEV | ‚úÖ | Commit dcaae6c –∑–∞–¥–µ–ø–ª–æ–µ–Ω |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è | ‚úÖ | Endpoint /api/analytics —Ä–∞–±–æ—Ç–∞–µ—Ç |

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. **–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π** –≤ Railway ‚Üí —Ç–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π git push –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å—Å—è
2. **–ò–ª–∏ –¥–µ–ø–ª–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é** —á–µ—Ä–µ–∑ Railway Dashboard ‚Üí Deployments ‚Üí Deploy
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** —á–µ—Ä–µ–∑ Telegram ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ –∞–¥–º–∏–Ω)

---

## üéâ –†–µ–∑—é–º–µ:

### ‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢!

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL **–ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π **—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ**
- –ë–∞–ª–ª—ã, —É—Ä–æ–≤–Ω–∏, —Å—Ç—Ä–∏–∫–∏ **–Ω–µ –ø—Ä–æ–ø–∞–¥—É—Ç**
- –ö–æ–Ω—Ç–∞–∫—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ **@ATAVALIEV**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç **—Å—Ç–∞–±–∏–ª—å–Ω–æ 26+ –º–∏–Ω—É—Ç**

### ‚è≥ –ß—Ç–æ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–æ—Å—å:

- –ù–æ–≤—ã–π endpoint `/api/db-status` –µ—â—ë –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω
- –ù—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –∏–ª–∏ –¥–µ–ø–ª–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é –≤ Railway

### üíØ –ò—Ç–æ–≥:

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%!** –ü—Ä–æ—Å—Ç–æ Railway –Ω–µ –¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ—ç—Ç–æ–º—É –Ω–æ–≤—ã–π –∫–æ–¥ –µ—â—ë –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª—Å—è. –ù–æ —ç—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –ë–î ‚Äî –æ–Ω–∞ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π! üöÄ

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã ‚Üí **@ATAVALIEV** –≤ Telegram ‚úÖ
