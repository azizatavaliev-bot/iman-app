# üéØ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è IMAN App - –ü–æ—à–∞–≥–æ–≤–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 10 –º–∏–Ω—É—Ç

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç Supabase (3 –º–∏–Ω—É—Ç—ã)

### 1.1 –û—Ç–∫—Ä–æ–π—Ç–µ Supabase
üëâ https://supabase.com/dashboard

### 1.2 –ù–∞–∂–º–∏—Ç–µ "New Project"
–ó–µ–ª—ë–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É

### 1.3 –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

**Organization:** –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é)

**Project Name:**
```
iman-app
```

**Database Password:**
```
–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)
–ù–∞–ø—Ä–∏–º–µ—Ä: ImanApp2026!Secure#DB
```
‚ö†Ô∏è **–°–û–•–†–ê–ù–ò–¢–ï –≠–¢–û–¢ –ü–ê–†–û–õ–¨!** –û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ.

**Region:**
```
Central EU (Frankfurt) - eu-central-1
```
–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º —Ä–µ–≥–∏–æ–Ω.

**Pricing Plan:**
```
Free (500 MB database, 2 GB bandwidth)
```

### 1.4 –ù–∞–∂–º–∏—Ç–µ "Create new project"

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã, –ø–æ–∫–∞ Supabase —Å–æ–∑–¥–∞—ë—Ç –ë–î.

---

## –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ DATABASE_URL (2 –º–∏–Ω—É—Ç—ã)

### 2.1 –û—Ç–∫—Ä–æ–π—Ç–µ Settings
–í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É ‚öôÔ∏è **Settings**

### 2.2 –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Database
Settings ‚Üí **Database**

### 2.3 –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ "Connection string"

–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Connection string**

### 2.4 –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º "URI"

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –í—ã–±–µ—Ä–∏—Ç–µ **"URI"**, –ù–ï "Transaction pooler"!

### 2.5 –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É

–í—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:
```
postgresql://postgres.xxxxxx:[YOUR-PASSWORD]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
```

### 2.6 –ó–∞–º–µ–Ω–∏—Ç–µ [YOUR-PASSWORD]

–ó–∞–º–µ–Ω–∏—Ç–µ `[YOUR-PASSWORD]` –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å –∏–∑ –®–∞–≥–∞ 1.3.

**–ü—Ä–∏–º–µ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:**
```
postgresql://postgres.abcdefgh:ImanApp2026!Secure#DB@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
```

### 2.7 –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë –≤ –±–ª–æ–∫–Ω–æ—Ç ‚Äî –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è Railway.

---

## –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—É –ë–î (2 –º–∏–Ω—É—Ç—ã)

### 3.1 –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor
–í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ **SQL Editor** (–∏–∫–æ–Ω–∫–∞ —Å –∫–æ–¥–æ–º)

### 3.2 –ù–∞–∂–º–∏—Ç–µ "New query"

### 3.3 –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `schema.sql`

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `schema.sql` –≤ –ø–∞–ø–∫–µ iman-app –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –µ–≥–æ —Ç–µ–∫—Å—Ç.

### 3.4 –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor

–í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SQL –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä.

### 3.5 –ù–∞–∂–º–∏—Ç–µ "Run" (–∏–ª–∏ Ctrl+Enter)

–í–Ω–∏–∑—É –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
Success. No rows returned
```

### 3.6 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å:
```sql
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
  AND table_name IN ('users', 'analytics');
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 2 —Å—Ç—Ä–æ–∫–∏:
- `users`
- `analytics`

‚úÖ –°—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞!

---

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Railway (3 –º–∏–Ω—É—Ç—ã)

### 4.1 –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard
–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Railway ‚Üí –ø—Ä–æ–µ–∫—Ç IMAN APP

### 4.2 –û—Ç–∫—Ä–æ–π—Ç–µ Variables
–í–∫–ª–∞–¥–∫–∞ **Variables** (–≤–≤–µ—Ä—Ö—É, —Ä—è–¥–æ–º —Å Deployments)

### 4.3 –î–æ–±–∞–≤—å—Ç–µ DATABASE_URL

–ù–∞–∂–º–∏—Ç–µ **+ New Variable**

**Variable Name:**
```
DATABASE_URL
```

**Value:**
```
<–≤–∞—à–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –®–∞–≥–∞ 2.6>
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```
postgresql://postgres.abcdefgh:ImanApp2026!Secure#DB@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
```

### 4.4 –ù–∞–∂–º–∏—Ç–µ "Add"

‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–∞!

---

## –®–∞–≥ 5: –Ø –æ–±–Ω–æ–≤–ª—é –∫–æ–¥ (–¥–µ–ª–∞—é —è)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –∑–∞–≤–µ—Ä—à–∏—Ç–µ –®–∞–≥–∏ 1-4, **—Å–∫–∞–∂–∏—Ç–µ –º–Ω–µ**, –∏ —è:

1. –û–±–Ω–æ–≤–ª—é `server.js` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
2. –û–±–Ω–æ–≤–ª—é `package.json` (–∑–∞–º–µ–Ω—é `better-sqlite3` –Ω–∞ `pg`)
3. –ó–∞–∫–æ–º–º–∏—á—É –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ó–∞–ø—É—à—É –≤ GitHub

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–¥.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ IMAN App –≤ Telegram
2. –í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. –û—Ç–º–µ—Ç—å—Ç–µ –Ω–∞–º–∞–∑
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí —É–≤–∏–¥–∏—Ç–µ —Å–µ–±—è –≤ —Å–ø–∏—Å–∫–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Supabase
1. Supabase Dashboard ‚Üí Table Editor
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É `users`
3. –£–≤–∏–¥–∏—Ç–µ –≤–∞—à—É –∑–∞–ø–∏—Å—å —Å `telegram_id`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ SQL
```sql
SELECT COUNT(*) as total_users FROM users;
```
–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ > 0.

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Supabase PostgreSQL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ù–ï —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ—è—Ö
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–æ 500 MB (Free –ø–ª–∞–Ω)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ë–î
Supabase Dashboard ‚Üí **Database** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Usage**

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
Supabase Dashboard ‚Üí **Table Editor** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
Supabase Dashboard ‚Üí **SQL Editor** ‚Üí –Ω–∞–ø–∏—à–∏—Ç–µ SQL

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: connect ECONNREFUSED
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Railway Variables ‚Üí DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–∞—Ä–æ–ª—å –≤ DATABASE_URL —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–∞—Ä–æ–ª–µ–º Supabase
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **URI**, –Ω–µ Transaction pooler

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–ª–∏—Å—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
SELECT table_name FROM information_schema.tables WHERE table_schema = 'public';
```

**–†–µ—à–µ–Ω–∏–µ:**
–ó–∞–Ω–æ–≤–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `schema.sql` –≤ SQL Editor.

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Railway –Ω–µ –≤–∏–¥–∏—Ç DATABASE_URL

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
Railway ‚Üí Variables ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL`

**–†–µ—à–µ–Ω–∏–µ:**
–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–Ω–∞ –≤ –Ω—É–∂–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ.

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–°–µ–π—á–∞—Å:**
1. –°–æ–∑–¥–∞–π—Ç–µ Supabase –ø—Ä–æ–µ–∫—Ç (–®–∞–≥ 1)
2. –ü–æ–ª—É—á–∏—Ç–µ DATABASE_URL (–®–∞–≥ 2)
3. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—É –ë–î (–®–∞–≥ 3)
4. –î–æ–±–∞–≤—å—Ç–µ DATABASE_URL –≤ Railway (–®–∞–≥ 4)

**–ü–æ—Ç–æ–º —Å–∫–∞–∂–∏—Ç–µ –º–Ω–µ, –∏ —è –æ–±–Ω–æ–≤–ª—é –∫–æ–¥!**

---

**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –õ—ë–≥–∫–∞—è  
**–í–∞–∂–Ω–æ—Å—Ç—å:** –ö–†–ò–¢–ò–ß–ù–ê

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ IMAN App –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ–π PostgreSQL –ë–î! üöÄ
